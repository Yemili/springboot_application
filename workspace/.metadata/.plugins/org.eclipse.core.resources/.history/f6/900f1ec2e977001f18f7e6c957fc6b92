package com.yemili.org.student.service;
import org.springframework.beans.factory.annotation.Autowired;
import java.util.*;
import org.springframework.stereotype.Service;
import com.yemili.org.student.model.Student;
import com.yemili.org.student.repository.StudentRepository;

@Service
public class StudentService {
	
	public List <Student> studentlist=new ArrayList<>();
	
	@Autowired
	private StudentRepository studentRepository;

	private Integer nextId = 1;
	public StudentService()
	 {
			/*
			 * studentlist.add(new Student(1, "John Doe", "")); studentlist.add(new
			 * Student(2, "Jane Smith", "")); studentlist.add(new Student(3, "yemili", ""));
			 * studentlist.add(new Student(4, "yamuna", "")); studentlist.add( new
			 * Student(6,"hemabushan", ""))
			 */;
	 }
	public List<Student> getAllStudents() {
        return studentRepository.findAll();
    }
	public  Optional<Student> getStudentByIds(int id) {
		 return studentlist.stream().filter(student -> student.getId().equals(id)).findFirst();
	 }
	public Student addStudent(Student student) {
		return studentRepository.save(student);
		/*
		 * student.setId(nextId++); Integer id=student.getId(); String
		 * name=student.getName(); //Integer age=student.getAge(); boolean idexists
		 * =studentlist.stream().anyMatch(s -> s.getId()==(student.getId())); boolean
		 * agecheck=student.getAge()>=30; if (idexists) {
		 * System.out.println("Student with ID " + id + " already exists.");
		 * 
		 * } if (agecheck) {
		 * System.out.println("Student age should be <30 will be added"); }
		 * studentlist.add(student); return student;
		 */
    }
	public boolean deleteStudents(int id) 
    {
       return studentRepository.deleteById(id);
		// return studentlist.removeIf(student -> student.getId() == id);
    }
	/*
	 * public Student update(Student student) { for (Student s : students) { if
	 * (s.getId()==student.getId()) { s.setName(student.getName());
	 * s.setAge(student.getAge()); return s; }
	 * 
	 * } return null; }
	 */
	 
}
