package com.yemili.org.student.service;
import org.springframework.beans.factory.annotation.Autowired;
import java.util.*;
import org.springframework.stereotype.Service;
import com.yemili.org.student.controller.*;

@Service
public class StudentService {
	
	public List <Student> studentlist=new ArrayList<>();

	private Integer nextId = 1;
	public StudentService()
	 {
		 studentlist.add(new Student(1, "John Doe", 25));
		 studentlist.add(new Student(2, "Jane Smith", 22));
		 studentlist.add(new Student(3, "yemili", 27));
		 studentlist.add(new Student(4, "yamuna", 23));
		 studentlist.add( new Student(6,"hemabushan",45));
	 }
	public List<Student> getAllStudents() {
        return studentlist;
    }
	public  Optional<Student> getStudentByIds(Integer id) {
		 return studentlist.stream().filter(student -> student.getId().equals(id)).findFirst();
	 }
	public Student addStudent(Student student) {
       // student.setId(nextId++);
        Integer id=student.getId();
		String name=student.getName();
		Integer age=student.getAge();
	     boolean idexists =studentlist.stream().anyMatch(s -> s.getId()==(student.getId()));
	    boolean agecheck=student.getAge()>=30;
	        if (idexists) 
	        {
	        	System.out.println("Student with ID " + id + " already exists.");
	        	
	        } 
	        else if (agecheck)
	        {
	        	System.out.println("Student age should be <30 will be added");
	        }
	        studentlist.add(student);
	        return student; 
    }
	public boolean deleteStudents(Integer id) 
    {
        return studentlist.removeIf(student -> student.getId() == id);
    }
	/*
	 * public Student update(Student student) { for (Student s : students) { if
	 * (s.getId()==student.getId()) { s.setName(student.getName());
	 * s.setAge(student.getAge()); return s; }
	 * 
	 * } return null; }
	 */
	 
}
