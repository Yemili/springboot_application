<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <title>Registration</title>
    <style>
        body {
            padding-top: 56px;
        }
        
        .bus-list {
            max-width: 600px;
            margin: auto;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <!-- <nav class="navbar navbar-expand-sm bg-danger navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">redBus</a>
        </div>
    </nav> -->

    <div class="container mt-5 bus-list">
        <h2 class="text-center">Available Buses</h2>
        <div id="bus-options" class="list-group">

        </div>
    </div>

    <script>
        function getUrlParameters() {
            const params = new URLSearchParams(window.location.search);
            return {
               name: params.get('name'),
                gender: params.get('gender'),
                email: params.get('email'),
               mobilenumber: params.get('mobilenumber'),
                password: params.get('password'),
                age: params.get('age')
            };
        }


        const students = [{
            id: 1,
            name: "Prashant",
            gender: "M",
            email: "cm@kvkm.com",
            mobilenumber:
            password: "2024-09-20",
            age: "$30"
        }, {
            id: 2,
            name: "Economy Bus",
            from: "chennai",
            to: "hydrabad",
            departureDate: "2024-09-20",
            price: "$20"
        }, {
            id: 3,
            name: "Sleeper Bus",
            from: "City A",
            to: "City B",
            departureDate: "2024-09-20",
            price: "$50"
        }];


        function displayBuses() {
            const {
                from,
                to,
                departureDate
            } = getUrlParameters();
            const busOptionsContainer = document.getElementById('bus-options');


            busOptionsContainer.innerHTML = '';


            sampleBuses.forEach(bus => {
                console.log("source..." + from);
                console.log("destination..." + to);
                console.log("date..." + departureDate);

                console.log("bus.from..." + bus.from);
                console.log("bus.to..." + bus.to);
                console.log("bus.departureDate..." + bus.departureDate);
                if (JSON.stringify(bus.from) === JSON.stringify(from) && JSON.stringify(bus.to) === JSON.stringify(to) && JSON.stringify(bus.departureDate) === JSON.stringify(departureDate)) {
                    const listItem = document.createElement('a');
                    listItem.className = 'list-group-item list-group-item-action';

                    listItem.innerHTML = `
                        <h5 class="mb-1">${bus.name}</h5>
                        <p class="mb-1">From: ${bus.from} To: ${bus.to}</p>
                        <small>Departure Date: ${bus.departureDate} - Price: ${bus.price}</small>
                    `;
                    busOptionsContainer.appendChild(listItem);
                }
            });


            if (busOptionsContainer.innerHTML === '') {
                busOptionsContainer.innerHTML = '<div class="alert alert-warning">No buses available for this route.</div>';
            }
        }

        window.onload = displayBuses;
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>